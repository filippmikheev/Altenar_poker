<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé∞ –í–µ–± –ü–æ–∫–µ—Ä - –ò–≥—Ä–∞ —Å –¥—Ä—É–∑—å—è–º–∏</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé∞</text></svg>">
</head>
<body>
    <div class="container">
        <!-- –õ–û–ë–ë–ò -->
        <div class="lobby-screen" id="lobbyScreen">
            <h1>üé∞ –í–µ–± –ü–æ–∫–µ—Ä</h1>
            <div class="lobby-tabs">
                <button class="tab-btn active" id="roomsTabBtn">üè† –í—Å–µ —Å—Ç–æ–ª—ã</button>
                <button class="tab-btn" id="joinTabBtn">üö™ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
            </div>
            
            <div class="tab-content active" id="roomsTab">
                <div class="rooms-list" id="roomsList">
                    <div class="loading">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–æ–ª–æ–≤...</div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                    <button id="refreshRoomsBtn" class="refresh-btn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
                    <button id="createTestTableBtnFromRooms" class="test-table-btn" style="padding: 15px 25px;">üß™ –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ç–æ–ª</button>
                </div>
            </div>
            
            <div class="tab-content" id="joinTab">
                <div class="lobby-form">
                    <input type="text" id="playerName" placeholder="üë§ –í–∞—à–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è" maxlength="30" autocomplete="off">
                    <input type="text" id="roomId" placeholder="üîë ID –∫–æ–º–Ω–∞—Ç—ã (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)" maxlength="10" autocomplete="off">
                    <button id="joinBtn">üöÄ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
                    <button id="createBtn">‚ú® –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ç–æ–ª</button>
                    <button id="createTestTableBtn" class="test-table-btn">üß™ –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ç–æ–ª</button>
                </div>
                <div id="roomInfo" class="room-info"></div>
            </div>
        </div>

        <!-- –ò–ì–†–û–í–û–ô –≠–ö–†–ê–ù -->
        <div class="game-screen" id="gameScreen" style="display: none;">
            <div class="game-header">
                <h2>üé∞ –°—Ç–æ–ª: <span id="roomName"></span></h2>
                <div class="header-right">
                    <div id="gameStatus" class="room-state">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ</div>
                    <div class="pot-display">
                        üí∞ –ë–∞–Ω–∫: <span id="potAmount">0</span>
                    </div>
                    <div class="timer-display" id="timerDisplay" style="display: none;">
                        ‚è±Ô∏è <span id="timeLeft">30</span>
                    </div>
                </div>
            </div>

            <!-- –ü–û–ö–ï–†–ù–´–ô –°–¢–û–õ -->
            <div class="game-table-wrapper">
                <div class="game-table">
                    <div class="table-center">
                        <div class="pot-area">
                            <div class="pot-label">–ë–∞–Ω–∫</div>
                            <div class="pot-value" id="potValue">0</div>
                        </div>
                        <div class="community-cards" id="communityCards"></div>
                    </div>
                    <div class="players-container" id="playersContainer"></div>
                </div>
            </div>

            <!-- –í–ê–®–ò –ö–ê–†–¢–´ -->
            <div class="player-hand" id="playerHand"></div>

            <!-- –ü–ê–ù–ï–õ–¨ –î–ï–ô–°–¢–í–ò–ô -->
            <div class="action-panel" id="actionPanel">
                <div class="player-info">
                    <div class="info-row">
                        <span>üí∞ –í–∞—à–∏ —Ñ–∏—à–∫–∏:</span>
                        <span id="playerChips">1000</span>
                    </div>
                    <div class="info-row">
                        <span>üéØ –í–∞—à–∞ —Å—Ç–∞–≤–∫–∞:</span>
                        <span id="playerBet">0</span>
                    </div>
                    <div class="info-row">
                        <span>üíµ –ö—É–ø–ª–µ–Ω–æ:</span>
                        <span id="playerBuyIn">1000</span>
                    </div>
                    <div class="info-row">
                        <span>üìä –ü—Ä–∏–±—ã–ª—å:</span>
                        <span id="playerProfit">0</span>
                    </div>
                </div>
                <div class="actions">
                    <button id="foldBtn" class="action-btn fold" disabled>‚ùå –ü–∞—Å</button>
                    <button id="callBtn" class="action-btn call" disabled>‚úîÔ∏è –ö–æ–ª–ª</button>
                    <div class="raise-section">
                        <input type="number" id="raiseAmount" placeholder="–°—É–º–º–∞" min="0">
                        <button id="raiseBtn" class="action-btn raise" disabled>‚¨ÜÔ∏è –†–µ–π–∑</button>
                    </div>
                    <button id="allInBtn" class="action-btn allin" disabled>üî• ALL-IN</button>
                </div>
            </div>

            <!-- –¢–ê–ë–õ–ò–¶–ê –õ–ò–î–ï–†–û–í -->
            <div class="leaderboard" id="leaderboard">
                <h3>üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h3>
                <div class="leaderboard-list" id="leaderboardList"></div>
            </div>

            <!-- –£–ü–†–ê–í–õ–ï–ù–ò–ï –ò–ì–†–û–ô -->
            <div class="game-controls">
                <button id="addBotBtn" style="display: none;">ü§ñ –î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞</button>
                <button id="startGameBtn">üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                <button id="nextHandBtn" style="display: none;">üÉè –°–ª–µ–¥—É—é—â–∞—è —Ä–∞–∑–¥–∞—á–∞</button>
                <div class="buy-in-controls" id="buyInControls" style="display: none;">
                    <input type="number" id="buyInAmount" placeholder="–°—É–º–º–∞" min="100" value="1000">
                    <button id="buyChipsBtn">üíµ –î–æ–∫—É–ø–∏—Ç—å —Ñ–∏—à–∫–∏</button>
                </div>
                <div class="admin-controls" id="adminControls" style="display: none;">
                    <label>
                        <input type="checkbox" id="allowBuyInCheck"> 
                        –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ–∫—É–ø–∫—É —Ñ–∏—à–µ–∫
                    </label>
                </div>
            </div>
        </div>

        <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –†–ï–ó–£–õ–¨–¢–ê–¢–û–í -->
        <div class="results-modal" id="resultsModal" style="display: none;">
            <div class="results-content">
                <h2>üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–∑–¥–∞—á–∏</h2>
                <div id="resultsContent"></div>
                <button id="closeResultsBtn" class="close-results-btn">‚úîÔ∏è –ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>

        <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –¢–ï–°–¢–û–í–û–ì–û –°–¢–û–õ–ê -->
        <div class="results-modal" id="testTableModal" style="display: none;">
            <div class="results-content" style="max-width: 500px;">
                <h2>üß™ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç–æ–ª–∞</h2>
                <div style="padding: 20px;">
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: var(--text-light);">
                            üë§ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ (0-4):
                        </label>
                        <input type="number" id="testPlayersCount" min="0" max="4" value="2" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white; font-size: 1.1em;">
                        <div style="font-size: 0.9em; color: #888; margin-top: 5px;">
                            ‚è±Ô∏è –ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –¥—É–º–∞–µ—Ç 15 —Å–µ–∫—É–Ω–¥
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: flex; align-items: center; color: var(--text-light);">
                            <input type="checkbox" id="addAIBot" checked style="margin-right: 10px; width: 20px; height: 20px;">
                            <span>ü§ñ –î–æ–±–∞–≤–∏—Ç—å –ò–ò-–±–æ—Ç–∞</span>
                        </label>
                        <div style="font-size: 0.9em; color: #888; margin-top: 5px; margin-left: 30px;">
                            ‚è±Ô∏è –ë–æ—Ç –¥—É–º–∞–µ—Ç 2 —Å–µ–∫—É–Ω–¥—ã
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: var(--text-light);">
                            üí∞ –°—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ñ–∏—à–∫–∏:
                        </label>
                        <input type="number" id="testStartingChips" min="100" value="1000" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white; font-size: 1.1em;">
                    </div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button id="createTestTableConfirmBtn" class="close-results-btn" style="background: linear-gradient(135deg, #27ae60, #2ecc71);">‚úÖ –°–æ–∑–¥–∞—Ç—å</button>
                    <button id="cancelTestTableBtn" class="close-results-btn" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">‚ùå –û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="game.js"></script>
</body>
</html>
